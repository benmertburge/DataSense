ResRobot v2.1
ResRobot Route planner
What does this API provide?
ResRobot Route planner provides routes between two stops or points. Users can specify the start and end point, date, time, transport modes, …

Data format
The data is formatted as JSON or XML, depending on the format query parameter.

Updates
The static data used for this API is updated when changes are made, at most once per day.

Operators covered by this dataset
All operators which operate in Sweden are covered by the ResRobot APIs.

Breaking changes
This API has the stable status. When breaking changes are made, we strive to have a 6 months transition period for users to update their implementations. Examples of breaking changes are the changes to existing fields or query parameters, or in case new query parameters are required to keep the results the same. The addition of new fields isn’t considered a breaking change, and can happen without warning.

Using ResRobot Route planner
ResRobot route planner consists of two different endpoints, one for departures and one for arrivals. Both endpoints take exactly the same parameters and have the same response structure. API Calls take the stop id as a parameter, as well as some other parameters to fine-tune the results. It returns a list of departures or arrivals from the given stop, including a bit of information about each vehicle, such as where it is heading or where it comes from.

Only the most important parameters and response variables are described on this page. Looking for more technical details? These can be found in the OpenAPI specification.
Example call
This example call retrieves all routes from Stockholm Central Station (740000001) to Malmö Central Station (740000003), departing right now (since no specific time or date is specified in the call).

Call
Json
Xml
Copy
https://api.resrobot.se/v2.1/trip?format=json&originId=740000001&destId=740000003&passlist=true&showPassingPoints=true&accessId=API_KEY
Request parameters
Name	Data type	Required	Description
accessId	String	Yes	Your API key.
lang	String (sv/en/de)	No, default sv	Language to use in the response. Affects both data (names for different transport types) and error messages.
date	Date (YYYY-MM-DD)	No, default today	Search on a specific date, specified in YYYY-MM-DD format, e.g. 2021-12-31.
You can only search for dates within the timetable period, defined by planningPeriodBegin and planningPeriodEnd which is present in all route-planning responses.
time	Time (HH:MM)	No, default now	Search on a specific time, specified in HH:MM format, e.g. 19:06.
searchForArrival	Integer (0/1)	No, default 0	Search for a latest arrival date/time instead of seraching for a first departure date/time
originId	String	Either originId or originCoordLat+originCoordLong are required	Stop id to search a route from. Can be obtained from the Stop lookup API, Nearby stops API, or GTFS Sverige 2
originCoordLat, originCoordLong	String	Either originId or originCoordLat+originCoordLong are required	Coordinates of the origin. ResRobot will calculate walking legs if needed
Latitude (WGS84, decimal degree), ex 59.330150
Longitude (WGS84, decimal degree), ex 18.056618
destId	String	Either destId or destCoordLat+destCoordLong are required	Stop id to search a route to. Can be obtained from the Stop lookup API, Nearby stops API, or GTFS Sverige 2
destCoordLat, destCoordLong	String	Either destId or destCoordLat+destCoordLong are required	Coordinates of the destination. ResRobot will calculate walking legs if needed
Latitude (WGS84, decimal degree), ex 59.330150
Longitude (WGS84, decimal degree), ex 18.056618
viaId	String	No, default no via	Id of an additional stop that should be passed on the way.
avoidId	String	No, default no stations to avoid	Id of a stop that should be avoided for transfers.
numF	Integer (1-6)	No, default 5	Number of results to fetch, departing after the specified date/time. The sum of numF and numB should not be more than 6. Ignored when searchForArrival is set to 1.
numB	Integer (0-5)	No, default 0	Number of results to fetch, departing before the specified date/time. The sum of numF and numB should not be more than 6. Ignored when searchForArrival is set to 1.
context	String	Np, default unspecified	Reference for scrolling further up or down from a previous search result.
maxChange	Integer (1-3)	No, default unlimited	Limits the maximum number of transfers.
products	Integer	No, default all products	Only include certain traffic modes, see common request products
operators	comma seperated integers	No, default all operators	Only include traffic from specified operators. Operators are specified by their id, which can be obtained from GTFS Sverige 2. Start a value with an exclamation mark ‘!’ to exclude an operator.
Example: operators=275,287 to only allow these two operators, or operators=!275,!287 to avoid these two operators
(275=SL, 287=Arlanda Express)
passlist	Integer	No, default 0	Set to 1 to include a list of the stops which are passed on the route of a vehicle. 0 to leave the list out of the result.
originWalk	comma separated integers	No	4 comma separated values: allow walks,minimum walking distance,maximum walking distance,walking time in %
allow walks: Set to 1 to allow walks to the first stop. Set to 0 to disable this.
minimum walking distance,maximum walking distance: Minimum and maximum distance in meters, between 0 and 10000.
walking time in %: walking time, relative to the default walking speed of 5km/h + 2 minutes to orient. Between 50 and 150%. 150% means walking will take 50% longer than default.
Walking between 0 and 1000 meters, at 75% of the normal speed look like this: originWalk=1,0,1000,75. To disable walking, originWalk=0 suffices.
destWalk	comma separated integers	No	4 comma separated values: allow walks,minimum walking distance,maximum walking distance,walking time in %
allow walks: Set to 1 to allow walks from the last stop to the destination. Set to 0 to disable this.
minimum walking distance,maximum walking distance: Minimum and maximum distance in meters, between 0 and 10000.
walking time in %: walking time, relative to the default walking speed of 5km/h + 2 minutes to orient. Between 50 and 150%. 150% means walking will take 50% longer than default.
Walking between 0 and 1000 meters, at 75% of the normal speed look like this: destwalk=1,0,1000,75. To disable walking, destwalk=0 suffices.
format	String	No, default XML	The response format, json or XML
Response